2020-09-28 16:01:06,437 INFO     Job started for command "import" with arguments:
2020-09-28 16:01:06,438 INFO         {
2020-09-28 16:01:06,439 INFO             "importer": {
2020-09-28 16:01:06,439 INFO                 "name": "Metadata Importer",
2020-09-28 16:01:06,440 INFO                 "arguments": {
2020-09-28 16:01:06,440 INFO                     "metadata": {
2020-09-28 16:01:06,441 INFO                         "stations": [
2020-09-28 16:01:06,442 INFO                             {
2020-09-28 16:01:06,443 INFO                                 "name": "MSGR",
2020-09-28 16:01:06,444 INFO                                 "description": "Monsignor Crosby station\n",
2020-09-28 16:01:06,445 INFO                                 "time_zone": "US/Eastern",
2020-09-28 16:01:06,446 INFO                                 "latitude": 44.25804,
2020-09-28 16:01:06,447 INFO                                 "longitude": -72.57444,
2020-09-28 16:01:06,450 INFO                                 "elevation": 175
2020-09-28 16:01:06,450 INFO                             }
2020-09-28 16:01:06,451 INFO                         ],
2020-09-28 16:01:06,452 INFO                         "device_models": [
2020-09-28 16:01:06,452 INFO                             {
2020-09-28 16:01:06,453 INFO                                 "name": "PC Recorder",
2020-09-28 16:01:06,454 INFO                                 "type": "Audio Recorder",
2020-09-28 16:01:06,455 INFO                                 "manufacturer": "Various",
2020-09-28 16:01:06,456 INFO                                 "model": "PC",
2020-09-28 16:01:06,457 INFO                                 "description": "Personal computer as an audio recorder.",
2020-09-28 16:01:06,458 INFO                                 "num_inputs": 2
2020-09-28 16:01:06,459 INFO                             },
2020-09-28 16:01:06,460 INFO                             {
2020-09-28 16:01:06,460 INFO                                 "name": "21c Microphone",
2020-09-28 16:01:06,460 INFO                                 "type": "Microphone",
2020-09-28 16:01:06,460 INFO                                 "manufacturer": "Old Bird",
2020-09-28 16:01:06,460 INFO                                 "model": "21c",
2020-09-28 16:01:06,460 INFO                                 "description": "",
2020-09-28 16:01:06,460 INFO                                 "num_outputs": 1
2020-09-28 16:01:06,461 INFO                             }
2020-09-28 16:01:06,466 INFO                         ],
2020-09-28 16:01:06,466 INFO                         "devices": [
2020-09-28 16:01:06,467 INFO                             {
2020-09-28 16:01:06,467 INFO                                 "name": "PC",
2020-09-28 16:01:06,467 INFO                                 "model": "PC Recorder",
2020-09-28 16:01:06,467 INFO                                 "serial_number": 0,
2020-09-28 16:01:06,467 INFO                                 "description": "Recorder used at the station of this archive."
2020-09-28 16:01:06,467 INFO                             },
2020-09-28 16:01:06,467 INFO                             {
2020-09-28 16:01:06,467 INFO                                 "name": "21c",
2020-09-28 16:01:06,467 INFO                                 "model": "21c Microphone",
2020-09-28 16:01:06,467 INFO                                 "serial_number": 0,
2020-09-28 16:01:06,467 INFO                                 "description": "Microphone used at the station of this archive."
2020-09-28 16:01:06,467 INFO                             }
2020-09-28 16:01:06,467 INFO                         ],
2020-09-28 16:01:06,467 INFO                         "station_devices": [
2020-09-28 16:01:06,467 INFO                             {
2020-09-28 16:01:06,467 INFO                                 "station": "MSGR",
2020-09-28 16:01:06,468 INFO                                 "start_time": "2020-01-01",
2020-09-28 16:01:06,472 INFO                                 "end_time": "2021-01-01",
2020-09-28 16:01:06,472 INFO                                 "devices": [
2020-09-28 16:01:06,472 INFO                                     "PC",
2020-09-28 16:01:06,473 INFO                                     "21c"
2020-09-28 16:01:06,473 INFO                                 ],
2020-09-28 16:01:06,473 INFO                                 "connections": [
2020-09-28 16:01:06,473 INFO                                     {
2020-09-28 16:01:06,473 INFO                                         "output": "21c Output",
2020-09-28 16:01:06,473 INFO                                         "input": "PC Input 0"
2020-09-28 16:01:06,473 INFO                                     }
2020-09-28 16:01:06,473 INFO                                 ]
2020-09-28 16:01:06,473 INFO                             }
2020-09-28 16:01:06,473 INFO                         ],
2020-09-28 16:01:06,473 INFO                         "detectors": [
2020-09-28 16:01:06,473 INFO                             {
2020-09-28 16:01:06,473 INFO                                 "name": "Old Bird Thrush Detector Redux 1.1",
2020-09-28 16:01:06,473 INFO                                 "description": "Vesper reimplementation of Old Bird Thrush detector."
2020-09-28 16:01:06,473 INFO                             },
2020-09-28 16:01:06,474 INFO                             {
2020-09-28 16:01:06,474 INFO                                 "name": "Old Bird Tseep Detector Redux 1.1",
2020-09-28 16:01:06,478 INFO                                 "description": "Vesper reimplementation of Old Bird Tseep detector."
2020-09-28 16:01:06,478 INFO                             }
2020-09-28 16:01:06,478 INFO                         ],
2020-09-28 16:01:06,479 INFO                         "classifiers": [
2020-09-28 16:01:06,479 INFO                             {
2020-09-28 16:01:06,479 INFO                                 "name": "MPG Ranch NFC Coarse Classifier 3.0",
2020-09-28 16:01:06,479 INFO                                 "description": "Classifies an unclassified clip as a \"Call\" if it appears to be a nocturnal flight call, or as a \"Noise\" otherwise. Does not classify a clip that has already been classified, whether manually or automatically.\n"
2020-09-28 16:01:06,479 INFO                             }
2020-09-28 16:01:06,479 INFO                         ],
2020-09-28 16:01:06,479 INFO                         "annotation_constraints": [
2020-09-28 16:01:06,479 INFO                             {
2020-09-28 16:01:06,479 INFO                                 "name": "Coarse Classification",
2020-09-28 16:01:06,479 INFO                                 "description": "Coarse classifications only.",
2020-09-28 16:01:06,479 INFO                                 "type": "Values",
2020-09-28 16:01:06,479 INFO                                 "values": [
2020-09-28 16:01:06,479 INFO                                     "Call",
2020-09-28 16:01:06,486 INFO                                     "Noise",
2020-09-28 16:01:06,486 INFO                                     "Tone",
2020-09-28 16:01:06,486 INFO                                     "Other",
2020-09-28 16:01:06,486 INFO                                     "Unknown"
2020-09-28 16:01:06,486 INFO                                 ]
2020-09-28 16:01:06,486 INFO                             },
2020-09-28 16:01:06,486 INFO                             {
2020-09-28 16:01:06,486 INFO                                 "name": "Classification",
2020-09-28 16:01:06,486 INFO                                 "description": "All classifications, including call subclassifications.",
2020-09-28 16:01:06,488 INFO                                 "type": "Hierarchical Values",
2020-09-28 16:01:06,488 INFO                                 "extends": "Coarse Classification",
2020-09-28 16:01:06,488 INFO                                 "values": [
2020-09-28 16:01:06,488 INFO                                     {
2020-09-28 16:01:06,488 INFO                                         "Call": [
2020-09-28 16:01:06,488 INFO                                             "AMCO",
2020-09-28 16:01:06,489 INFO                                             "AMPI",
2020-09-28 16:01:06,489 INFO                                             "AMRE",
2020-09-28 16:01:06,489 INFO                                             "AMRO",
2020-09-28 16:01:06,489 INFO                                             "ATSP",
2020-09-28 16:01:06,489 INFO                                             "BAWW",
2020-09-28 16:01:06,489 INFO                                             "BBWA",
2020-09-28 16:01:06,489 INFO                                             "BHGR",
2020-09-28 16:01:06,489 INFO                                             "BTBW",
2020-09-28 16:01:06,489 INFO                                             "CAWA",
2020-09-28 16:01:06,489 INFO                                             "CMWA",
2020-09-28 16:01:06,489 INFO                                             "CHSP",
2020-09-28 16:01:06,489 INFO                                             "COYE",
2020-09-28 16:01:06,490 INFO                                             "DBUP",
2020-09-28 16:01:06,490 INFO                                             "DEJU",
2020-09-28 16:01:06,490 INFO                                             "GCKI",
2020-09-28 16:01:06,490 INFO                                             "GCTH_BICK",
2020-09-28 16:01:06,490 INFO                                             "GRSP",
2020-09-28 16:01:06,490 INFO                                             "GRYE",
2020-09-28 16:01:06,490 INFO                                             "HETH",
2020-09-28 16:01:06,490 INFO                                             "High",
2020-09-28 16:01:06,490 INFO                                             "HOLA",
2020-09-28 16:01:06,490 INFO                                             "LALO",
2020-09-28 16:01:06,490 INFO                                             "LBCU",
2020-09-28 16:01:06,490 INFO                                             "LISP",
2020-09-28 16:01:06,490 INFO                                             "Low",
2020-09-28 16:01:06,491 INFO                                             "MGWA",
2020-09-28 16:01:06,491 INFO                                             "NOPA",
2020-09-28 16:01:06,491 INFO                                             "NOWA",
2020-09-28 16:01:06,491 INFO                                             "OVEN",
2020-09-28 16:01:06,491 INFO                                             "Other",
2020-09-28 16:01:06,491 INFO                                             "Peep",
2020-09-28 16:01:06,491 INFO                                             "SAVS",
2020-09-28 16:01:06,491 INFO                                             "SORA",
2020-09-28 16:01:06,491 INFO                                             "SCTA",
2020-09-28 16:01:06,491 INFO                                             "SOSP",
2020-09-28 16:01:06,491 INFO                                             "SPSA_SOSA",
2020-09-28 16:01:06,494 INFO                                             "SWTH",
2020-09-28 16:01:06,494 INFO                                             "SWSP",
2020-09-28 16:01:06,494 INFO                                             "UPSA",
2020-09-28 16:01:06,494 INFO                                             "Unknown",
2020-09-28 16:01:06,494 INFO                                             "VEER",
2020-09-28 16:01:06,494 INFO                                             "VESP",
2020-09-28 16:01:06,494 INFO                                             "VIRA",
2020-09-28 16:01:06,494 INFO                                             "WCSP",
2020-09-28 16:01:06,495 INFO                                             "WEME",
2020-09-28 16:01:06,495 INFO                                             "WETA",
2020-09-28 16:01:06,495 INFO                                             "WIWA",
2020-09-28 16:01:06,495 INFO                                             "WOTH",
2020-09-28 16:01:06,495 INFO                                             "WTSP",
2020-09-28 16:01:06,495 INFO                                             "Weak",
2020-09-28 16:01:06,495 INFO                                             "YRWA",
2020-09-28 16:01:06,495 INFO                                             "Zeep"
2020-09-28 16:01:06,495 INFO                                         ]
2020-09-28 16:01:06,497 INFO                                     }
2020-09-28 16:01:06,497 INFO                                 ]
2020-09-28 16:01:06,498 INFO                             }
2020-09-28 16:01:06,499 INFO                         ],
2020-09-28 16:01:06,499 INFO                         "annotations": [
2020-09-28 16:01:06,499 INFO                             {
2020-09-28 16:01:06,499 INFO                                 "name": "Detector Score",
2020-09-28 16:01:06,500 INFO                                 "type": "String"
2020-09-28 16:01:06,500 INFO                             },
2020-09-28 16:01:06,500 INFO                             {
2020-09-28 16:01:06,500 INFO                                 "name": "Classification",
2020-09-28 16:01:06,500 INFO                                 "type": "String",
2020-09-28 16:01:06,500 INFO                                 "constraint": "Classification"
2020-09-28 16:01:06,500 INFO                             }
2020-09-28 16:01:06,500 INFO                         ]
2020-09-28 16:01:06,504 INFO                     }
2020-09-28 16:01:06,505 INFO                 }
2020-09-28 16:01:06,506 INFO             }
2020-09-28 16:01:06,506 INFO         }
2020-09-28 16:01:06,517 INFO     Adding station "MSGR"...
2020-09-28 16:01:06,527 ERROR    Metadata import failed with an exception. Database has been restored to its state before the import. See below for exception traceback.
2020-09-28 16:01:06,635 ERROR    Job failed with an exception. See traceback below.
Traceback (most recent call last):
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py", line 396, in execute
    return Database.Cursor.execute(self, query, params)
sqlite3.IntegrityError: UNIQUE constraint failed: vesper_station.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/vesper/command/job_runner.py", line 145, in run_job
    complete = command.execute(info)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/vesper/command/import_command.py", line 22, in execute
    return self._importer.execute(context)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/vesper/command/metadata_importer.py", line 114, in execute
    self._add_stations()
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/vesper/command/metadata_importer.py", line 157, in _add_stations
    time_zone=time_zone)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/query.py", line 433, in create
    obj.save(force_insert=True, using=self.db)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/base.py", line 746, in save
    force_update=force_update, update_fields=update_fields)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/base.py", line 784, in save_base
    force_update, using, update_fields,
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/base.py", line 887, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/base.py", line 926, in _do_insert
    using=using, raw=raw,
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/query.py", line 1204, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/models/sql/compiler.py", line 1391, in execute_sql
    cursor.execute(sql, params)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 100, in execute
    return super().execute(sql, params)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 68, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 77, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/utils.py", line 86, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/richard/miniconda3/envs/vesper-0.4.8/lib/python3.6/site-packages/django/db/backends/sqlite3/base.py", line 396, in execute
    return Database.Cursor.execute(self, query, params)
django.db.utils.IntegrityError: UNIQUE constraint failed: vesper_station.name

